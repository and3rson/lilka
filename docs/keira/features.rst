.. _keira-firmware-features:

Можливості
==========

.. contents::
   :local:
   :depth: 2

.. _sd-card-feature:

Запуск прошивок з SD-картки
---------------------------

Keira підтримує запуск другорядних прошивок з SD-картки. Такі файли мають розширення ``.bin``. Це дозволяє вам скомпілювати (або завантажити з інтернету) нестандартну прошивку, скопіювати її на SD-картку, і запустити її на Лілці.

Це має деякі великі переваги:

- Ви можете використовувати більше пам'яті, ніж доступно в Keira.
- Вам не потрібно щоразу перепрошивати Лілку, щоб випробувати другорядні прошивки: просто скопіюйте їх на SD-картку.
- Ви можете ділитися своїми скомпільованими прошивками (у вигляді ``.bin``-файлів) з іншими користувачами Лілки, без необхідності відправляти їм весь код вашої власної прошивки.

Найяскравіший приклад використання цієї функції - запуск Doom. Достатньо скопіювати на SD-карту файли ``doom.bin`` і ``doom.wad`` (або ``doom1.wad``), і ви зможете грати в Doom!

.. note:: Щоб отримати ``doom.bin``, вам потрібно скомпілювати прошивку, що знаходиться в папці ``firmware/doom``, і тоді скопіювати файл ``doom.bin`` на SD-картку.

.. note::

    Щоб отримати ``doom.wad``, ви можете завантажити безкоштовну shareware-версію Doom `за цим посиланням <https://distro.ibiblio.org/slitaz/sources/packages/d/doom1.wad>`_,
    або ж мати повну ліцензійну копію Doom і витягти з неї файл ``doom.wad``.

Тепер ви можете вставити SD-картку в Лілку і вибрати ``doom.bin`` у браузері SD-картки. Лілка перезавантажиться, і ви зможете зіграти в Doom!

Після перезавантаження Лілки ви повернетеся до Keira.

.. _nes-emulator-feature:

Запуск ігор NES з SD-картки
---------------------------

Keira має вбудовану підтримку запуску ігор `NES <https://uk.wikipedia.org/wiki/Nintendo_Entertainment_System>`_ з SD-картки. Це означає, що ви можете скопіювати файли ігор NES (`.rom` або `.nes`) на SD-картку, і грати в них на Лілці.

Для емуляції NES Лілка використовує емулятор `Nofrendo <https://github.com/moononournation/arduino-nofrendo>`_. Він може мати деякі обмеження, але, наприклад, Super Mario Bros працює бездоганно.

.. _lua-scripting-feature:

Запуск Lua-скриптів з SD-картки
-------------------------------

Keira має вбудовану підтримку запуску `Lua <https://uk.wikipedia.org/wiki/Lua>`_-скриптів з SD-картки. Це означає, що ви можете скопіювати файли Lua (`.lua`) на SD-картку, і виконувати їх на Лілці.

Для виконання Lua-скриптів Лілка використовує вбудований інтерпретатор Lua, який базується на `Lua 5.4.6 <https://www.lua.org/manual/5.4/manual.html>`_.

Написати власний Lua-скрипт для Лілки дуже просто. Для цього вам потрібно знати основи Lua, а також використовувати Lua API  Лілки. Детальніше про це - в розділі :ref:`lua-intro`.

Детальніше про те, як писати Lua-скрипти для Лілки, ви можете прочитати в розділі :ref:`lua-intro`.

Запуск mJS-скриптів з SD-картки
-------------------------------

mJS - це `мінімалістичний двигун JavaScript <https://github.com/cesanta/mjs>`_, який використовується в Лілці для виконання скриптів.
Keira має вбудовану підтримку запуску mJS-скриптів з SD-картки. Це означає, що ви можете скопіювати файли, написані діалектом mJS (з розширенням ``.js``) на SD-картку і виконувати їх на Лілці.

Я не впевнений, наскільки корисною буде ця функція, і ми рекомендуємо використовувати для цього Lua, яка має значно більше можливостей, ніж mJS. Проте ця функція є, і ви можете спробувати її, якщо вам цікаво.

.. warning::

    mJS - це діалект JavaScript, який має свої особливості. Наприклад, він не підтримує класи, і він має свої власні функції для роботи з рядками, масивами, об'єктами, тощо.
    Тому, якщо ви вирішили використовувати mJS, будьте готові до того, що:

    * **Вам доведеться вивчати новий діалект JavaScript**.
    * **Ви не зможете використовувати майже жодну з бібліотек, які ви використовуєте в звичайному JavaScript**.
    * **Ми не володіємо жодною інформацією про стабільність проєкту mJS загалом**.

Додати mJS до Лілки було дуже просто і це дозволяє нам хизуватися тим, що "для Лілки можна писати код на JavaScript!" :)
