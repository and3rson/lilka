# Doom для Лілки!

Це - порт Doom для Лілки.

[lib/doomgeneric](./lib/doomgeneric) містить модифікований код рушія Doom Generic для запуску на ESP32-S3.
Я додав динамічну алокацію пам'яті для деяких "товстих" масивів, щоб використовувати PSRAM. Таким чином весь основний код Doom тепер спокійно поміщається в 400 КБ основної RAM. Крім цього, є ще деякі зміни (див. [README](./lib/doomgeneric)).

[src/main.cpp](./src/main.cpp) містить код, специфічний для Лілки (малювання екрана, ініціалізація, etc).

Решта файлів в `src` - це звукові драйвери для I2S (з простим міксуванням звуку) та п'єзодинаміка.

Звісно, для того, щоб пограти в Doom, вам додатково потрібно мати файл `doom.wad`. Його можна купити або завантажити в інтернеті. Його потрібно покласти в корінь SD-карти.
